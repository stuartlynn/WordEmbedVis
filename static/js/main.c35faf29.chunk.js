(window.webpackJsonpword_embedding_vis=window.webpackJsonpword_embedding_vis||[]).push([[0],{19:function(e,_,t){"use strict";t.d(_,"a",(function(){return s}));var r=t(3),n=t.n(r),o=t(20);t(17);function s(e){var _=e.word,t=e.embedding,r=e.style,s=o.b().domain([-1,0,1]).interpolator(o.a);return n.a.createElement("div",{className:"embedding-vis-row",style:r},n.a.createElement("h2",null,_),n.a.createElement("div",{style:{border:"1px solid grey",flex:1,display:"flex",flexDirection:"row"}},t.map((function(e){return n.a.createElement("div",{className:"element",style:{backgroundColor:s(e),flex:"grow",height:"100%",width:"".concat(1e3/300,"px")}})}))))}s.defaultProps={style:{width:"1000px",height:"200px",display:"flex",flexDirection:"column"}}},49:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_logo_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70),_logo_svg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_logo_svg__WEBPACK_IMPORTED_MODULE_3__),_components_EmbeddingVis__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71),_components_EmbeddingVisRow__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19),_App_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(72),_App_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_6__);function ownKeys(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);_&&(r=r.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),t.push.apply(t,r)}return t}function _objectSpread(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{};_%2?ownKeys(t,!0).forEach((function(_){Object(_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(e,_,t[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(t).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(t,_))}))}return e}function App(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(""),_useState2=Object(_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),words=_useState2[0],setWords=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState4=Object(_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),equationResults=_useState4[0],setEquationResults=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState6=Object(_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),embeddings=_useState6[0],setEmbeddings=_useState6[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var e=words.replace("+",",").replace("-",",").split(",").map((function(e){return e.trim()})).join(",");fetch("https://smooshr.stuartlynn.me/embedding/".concat(e.toLowerCase())).then((function(e){return e.json()})).then((function(_){_.length>0&&setEmbeddings(e.split(",").map((function(e){return _.find((function(_){return _.key===e}))})).filter((function(e){return e})))}))}),[words]),console.log("embeds ",embeddings),Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){var equations=words.split(",").filter((function(e){return e.match(/[+-]/)})),embedLookup=embeddings.reduce((function(e,_){return _objectSpread({},e,Object(_home_stuart_Projects_word_embedding_vis_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},_.key,_.embedding))}),{});console.log(equations);var eqnResults=equations.map((function(equation){var reworkedEqn=equation;Object.keys(embedLookup).forEach((function(e){reworkedEqn=reworkedEqn.replace(e,"embedLookup['".concat(e,"'][$i]"))}));var result=null;try{result=Object.values(embedLookup)[0].map((function(v,i){return eval(reworkedEqn.replace(/\$i/g,i))})),console.log("result ",result)}catch(err){console.log("not a real equation")}return{key:equation,embedding:result}})).filter((function(e){return e.embedding}));setEquationResults(eqnResults)}),[embeddings]),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"App"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{value:words,onChange:function(e){return setWords(e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:"embeddings",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},embeddings.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_EmbeddingVisRow__WEBPACK_IMPORTED_MODULE_5__.a,{key:e.key,embedding:e.embedding,word:e.key})})),equationResults.map((function(e){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_components_EmbeddingVisRow__WEBPACK_IMPORTED_MODULE_5__.a,{key:e.key,word:e.key,embedding:e.embedding})}))))}__webpack_exports__.a=App},64:function(e,_,t){e.exports=t(73)},69:function(e,_,t){},70:function(e,_,t){e.exports=t.p+"static/media/logo.25bf045c.svg"},71:function(e,_,t){"use strict";var r=t(14);t(3),t(16),t(17);Object(r.a)(Array(300)).map((function(){return 2*(Math.random()-.5)}))},72:function(e,_,t){},73:function(e,_,t){"use strict";t.r(_);var r=t(3),n=t.n(r),o=t(48),s=t.n(o),a=(t(69),t(49));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(a.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.c35faf29.chunk.js.map